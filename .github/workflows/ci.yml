name: CI

on: push

jobs:
  tests:
    name: Build and run tests
    runs-on: macOS-10.14
    steps:
    - uses: actions/checkout@v1
    - run: ./build.sh tests
  dynamic-framework:
    name: Build Texture as a dynamic framework
    needs: tests
    runs-on: macOS-10.14
    steps:
    - uses: actions/checkout@v1
    - run: ./build.sh framework
  static-library:
    name: Build Texture as a static library
    needs: tests
    runs-on: macOS-10.14
    steps:
    - uses: actions/checkout@v1
    - run: ./build.sh life-without-cocoapods
  examples-pt1:
    name: Build examples (examples-pt1)
    needs: tests
    runs-on: macOS-10.14
    steps:
    - uses: actions/checkout@v1
    - run: ./build.sh examples-pt1
  examples-pt2:
    name: Build examples (examples-pt2)
    needs: tests
    runs-on: macOS-10.14
    steps:
    - uses: actions/checkout@v1
    - run: ./build.sh examples-pt2
  examples-pt3:
    name: Build examples (examples-pt3)
    needs: tests
    runs-on: macOS-10.14
    steps:
    - uses: actions/checkout@v1
    - run: ./build.sh examples-pt3
  carthage:
    name: Verify that Carthage works
    needs: tests
    runs-on: macOS-10.14
    steps:
    - uses: actions/checkout@v1
    - run: ./build.sh carthage
